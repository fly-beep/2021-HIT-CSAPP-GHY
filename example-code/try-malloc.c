#include <stdlib.h>#include <stdio.h>#define N (1024*1024*512)#define M (N/2)void mypause(){   char s[100];   printf("press enter to continue: ");   gets(s);}int main(){   int iCnt=0;    int *p=NULL, *q=NULL;    int i,n;    int iStep = 512;    printf("1-Let's  begin, will malloc for p, please record MEM usage\n");    mypause();    p =(int*)malloc(N*sizeof(int));    printf("p=%p\n",p);    printf("2-Malloced and before reading/writing! Please record MEM usage.\n");    mypause();    if( N > 20*1024 )        iStep = 1024;    for( i=0;i<N;i+=iStep)    {		if(p[i]!=0)		{			iCnt++;			printf("iCnt=%d,p[%1d]=%d\n",iCnt,i,p[i]);		}        p[i]=1234567;    }     printf("3-After reading/writing. Will free...Please record MEM usage.\n");    mypause();          free(p);    printf("4-After free p! Will malloc for q. Please record MEM usage.\n");    mypause();        q=(int*)malloc(M*sizeof(int));    printf("q=%p\n",q);    iCnt=0;    if( M > 20*1024 )        iStep = 1024;    for( i=0;i<M;i+=iStep)    {               if(q[i]!=0)        {            iCnt++;           printf("iCnt=%d,q[%1d]=%d\n",iCnt,i,q[i]);        }    }           free(q);    printf("5-After free q! Please record MEM usage.\n");    printf("End of malloc:%p,%p\n",p,q);    mypause();    return 0;}       